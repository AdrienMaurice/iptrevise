{% extends '@App/default/base.html.twig' %}

{% set default_entity_show = 'default_ip_show' %}

{% block title %}
    {{ 'default.ip.show.title %name%'|trans({'%name%': ip.ip | ip })}} Â· {{ parent() }}
{% endblock title %}

{% block headline %}
    {{ 'default.ip.show.title %name%'|trans({'%name%': ip.ip | ip })}}
{% endblock headline %}

{% block content_settings %}
    <div class="panel panel-primary" id="administration-global-information">
        <div class="panel-heading">
            <h3 class="panel-title">{{ 'administration.global-information' | trans }}</h3>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-sm-10">
                    <dl class="dl-horizontal">
                        <dt class="lead">{{ 'form.ip.field.ip'| trans }}</dt>
                        <dd class="lead">{{ ip.ip | ip }}</dd>
                        <dt>{{ 'form.ip.field.reason'| trans }}</dt>
                        <dd>@TODO</dd>
                        <dt>{{ 'form.ip.field.creator'| trans }}</dt>
                        <dd>{{ ip.creator.label }}</dd>
                    </dl>
                </div>
                <div class="col-sm-2 text-right">
                    <p>
                        <span class="fa fa-indent fa-4x" style="color: {{ '#' ~ ip.network.color }}"></span>
                    </p>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col-sm-10">
                    <dl class="dl-horizontal">
                        <dt class="lead">{{ 'form.ip.field.network'| trans }}</dt>
                        <dd class="lead">
                            <a href="{{ path('default_network_show', {'id': ip.network.id}) }}" title="{{ ip.network.label }}">
                                {{ ip.network.label }}
                            </a>
                        </dd>
                        <dt>{{ 'form.network.field.address'| trans }}</dt>
                        <dd>{{ ip.network.ip | network(ip.network.cidr) }}</dd>
                        <dt>{{ 'form.network.field.description'| trans }}</dt>
                        <dd>{{ ip.network.description }}</dd>
                        <dt>{{ 'form.network.field.creator'| trans }}</dt>
                        <dd>{{ ip.network.creator.label }}</dd>
                    </dl>
                </div>
                <div class="col-sm-2 text-right">
                    <p>
                        <span class="fa fa-sitemap fa-4x" style="color: {{ '#' ~ ip.network.color }}"></span>
                    </p>
                </div>
            </div>
            <hr>
            {% if ip.machine %}
                <div class="row">
                    <div class="col-sm-10">
                        <dl class="dl-horizontal">
                            <dt class="lead">{{ 'form.ip.field.machine'| trans }}</dt>
                            <dd class="lead">
                                <a href="{{ path('default_machine_show', {'id': ip.machine.id}) }}" title="{{ ip.machine.label }}">
                                    {{ ip.machine.label }}    
                                </a>
                            </dd>
                            <dt>{{ 'form.machine.field.interface'| trans }}</dt>
                            <dd>{{ ip.machine.interface }}</dd>
                            <dt>{{ 'form.machine.field.description'| trans }}</dt>
                            <dd>{{ ip.machine.description }}</dd>
                            <dt>{{ 'form.machine.field.creator'| trans }}</dt>
                            <dd>{{ ip.machine.creator.label }}</dd>
                        </dl>
                    </div>
                    <div class="col-sm-2 text-right">
                        <p>
                            <span class="fa fa-desktop fa-4x"></span>
                        </p>
                    </div>
                </div>
            {% else %}
                <div class="alert alert-info">
                    <p>{{ 'default.ip.no.machine' | trans }}</p>
                </div>
            {% endif %}

        </div>
    </div>
{% endblock content_settings %}

{% block content_action %}
    <h3>{{ 'administration.actions' | trans }}</h3>

    <div class="text-center" id="default-actions">
        <div class="btn-group-vertical">
            {#<a class="btn-mini btn btn-default" href="{{ path('default_network_index') }}">#}
                {#<span class="fa fa-sitemap"></span>&nbsp;{{ 'network.actions.back.list' | trans }}#}
            {#</a>#}
            <a class="btn-mini btn btn-default" href="{{ path('default_ip_edit', { 'id': ip.id }) }}">
                <span class="fa fa-pencil"></span>&nbsp;{{ 'administration.actions.edit' | trans }}
            </a>
            {% if isDeletable %}
                <a class="btn btn-danger btn-mini confirm-delete" data-toggle="modal" data-target="#confirm-delete" data-form="form" href="#">
                    <span class="fa fa-trash-o"></span>&nbsp;{{ 'administration.actions.delete' | trans }}
                </a>
            {% else %}
                <span class="btn btn-danger disabled">
                    <span class="fa fa-trash-o"></span>&nbsp;{{ 'administration.actions.delete' | trans }}
                </span>
            {% endif %}
        </div>
    </div>
{% endblock content_action %}
